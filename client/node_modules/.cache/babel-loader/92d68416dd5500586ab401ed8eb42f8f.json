{"ast":null,"code":"import _defineProperty from \"/home/zettabyte/Desktop/golang-react-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/zettabyte/Desktop/golang-react-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/zettabyte/Desktop/golang-react-todo/client/src/ToDoList.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Card, Header, Icon, Form, Input } from \"semantic-ui-react\";\nimport \"./ToDoList.css\";\nvar endPoint = \"http://localhost:9000\";\nexport default function ToDoList() {\n  // Holds the card elements to render on the page \n  var _React$useState = React.useState({\n    items: []\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    task: \"\"\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      taskstate = _React$useState4[0],\n      setTaskState = _React$useState4[1]; // After first rendering of the page make function call \n\n\n  React.useEffect(function () {\n    getTask();\n  });\n\n  function onChange(event) {\n    setTaskState(_defineProperty({}, event.target.name, event.target.value));\n  } // submit the data to store in db\n\n\n  function onSubmit(event) {\n    event.preventDefault();\n    var task = taskstate.task;\n\n    if (task) {\n      axios.post(endPoint + \"/api/tasks\", {\n        task: task\n      }, {\n        headers: {\n          \"Content-Type\": \"applicationx-www-form-urlencoded\"\n        }\n      }).then(function (res) {\n        console.log(res); //Updating the page \n\n        getTask(); // Clear the text from input \n\n        setTaskState({\n          task: \"\"\n        });\n      });\n    }\n  } // The received data from api is list of objects so using map to iterate over \n  // each object; creating card element and storing them in items array   \n\n\n  function getTask() {\n    var _this = this;\n\n    axios.get(endPoint + \"/api/task\").then(function (res) {\n      if (res.data) {\n        setState({\n          items: res.data.map(function (item) {\n            // setting up some colors and style for text in card\n            var color = \"yellow\";\n            var style = {\n              wordWrap: \"break-word\"\n            };\n\n            if (item.status) {\n              color = \"green\";\n              style[\"textDecoration\"] = \"line-through\";\n            }\n\n            return /*#__PURE__*/React.createElement(Card, {\n              key: item._id,\n              color: color,\n              className: \"rough\",\n              fluid: true,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }\n            }, /*#__PURE__*/React.createElement(Card.Content, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }\n            }, /*#__PURE__*/React.createElement(Card.Header, {\n              textAlign: \"left\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              style: style,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 41\n              }\n            }, item.task)), /*#__PURE__*/React.createElement(Card.Meta, {\n              textAlign: \"right\",\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }\n            }, /*#__PURE__*/React.createElement(Icon, {\n              name: \"check circle\",\n              color: \"blue\",\n              onClick: function onClick() {\n                return updateTask(item._id);\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 41\n              }\n            }), /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                paddingRight: 10\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 41\n              }\n            }, \"Done\"), /*#__PURE__*/React.createElement(Icon, {\n              name: \"undo alternate\",\n              color: \"yellow\",\n              onClick: function onClick() {\n                return undoTask(item._id);\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }\n            }), /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                paddingRight: 10\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 41\n              }\n            }, \"Undo\"), /*#__PURE__*/React.createElement(Icon, {\n              name: \"delete\",\n              color: \"red\",\n              onClick: function onClick() {\n                return deleteTask(item._id);\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 41\n              }\n            }), /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                paddingRight: 10\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 41\n              }\n            }, \"Delete\"))));\n          })\n        });\n      } else {\n        setState({\n          items: []\n        });\n      }\n    });\n  } // After performing any CRUD operation perform getTask() \n  // to update the UI\n\n\n  function undoTask(id) {\n    axios.put(endPoint + \"/api/undoTask/\" + id, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (res) {\n      console.log(res);\n      getTask();\n    });\n  }\n\n  function updateTask(id) {\n    axios.put(endPoint + \"/api/tasks/\" + id, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (res) {\n      console.log(res);\n      getTask();\n    });\n  }\n\n  function deleteTask(id) {\n    axios.delete(endPoint + \"/api/deleteTask/\" + id, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (res) {\n      console.log(res);\n      getTask();\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    className: \"header\",\n    as: \"h2\",\n    color: \"yellow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, \"To Do List\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"task\",\n    onChange: onChange,\n    value: taskstate.task,\n    fluid: true,\n    placeholder: \"Create a todo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, state.items)));\n}","map":{"version":3,"names":["React","axios","Card","Header","Icon","Form","Input","endPoint","ToDoList","useState","items","state","setState","task","taskstate","setTaskState","useEffect","getTask","onChange","event","target","name","value","onSubmit","preventDefault","post","headers","then","res","console","log","get","data","map","item","color","style","wordWrap","status","_id","updateTask","paddingRight","undoTask","deleteTask","id","put","delete"],"sources":["/home/zettabyte/Desktop/golang-react-todo/client/src/ToDoList.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\"\nimport {Card, Header, Icon, Form, Input} from \"semantic-ui-react\"\nimport \"./ToDoList.css\"\n\nlet endPoint = \"http://localhost:9000\"\nexport default function ToDoList(){\n\n    // Holds the card elements to render on the page \n    const [state, setState] = React.useState({\n        items:[],\n    })\n    const [taskstate, setTaskState] = React.useState({\n        task: \"\",\n    })\n\n    // After first rendering of the page make function call \n    React.useEffect(()=>{\n        getTask()\n    })\n    \n    function onChange(event){\n        setTaskState({\n            [event.target.name] : event.target.value,\n        })\n    }\n\n    // submit the data to store in db\n    function onSubmit(event){\n        event.preventDefault()\n        let task = taskstate.task\n        if(task){\n            axios.post(endPoint+\"/api/tasks\", \n            {task,},\n            {headers:{\n                \"Content-Type\": \"applicationx-www-form-urlencoded\",\n                },\n            }).then((res)=>{\n                console.log(res)\n                //Updating the page \n                getTask()\n                \n                // Clear the text from input \n                setTaskState({\n                        task:\"\",\n                })\n\n            })\n        }\n    }\n\n    // The received data from api is list of objects so using map to iterate over \n    // each object; creating card element and storing them in items array   \n    function getTask(){\n        axios.get(endPoint+\"/api/task\").then((res=>{\n            if(res.data){\n                setState({\n                    items: res.data.map((item)=>{\n\n                        // setting up some colors and style for text in card\n                        let color= \"yellow\"\n                        let style = {\n                            wordWrap: \"break-word\",\n                        }\n\n                        if(item.status){\n                            color = \"green\"\n                            style[\"textDecoration\"] = \"line-through\"\n                        }\n                        return(\n                            <Card key={item._id} color={color} className=\"rough\" fluid>\n                                <Card.Content>\n                                    <Card.Header textAlign=\"left\">\n                                        <div style={style}>{item.task}</div>\n                                    </Card.Header>\n\n                                    <Card.Meta textAlign=\"right\">\n                                        <Icon name=\"check circle\"\n                                              color=\"blue\"\n                                              onClick={()=>updateTask(item._id)}\n                                        />\n                                        <span style={{paddingRight:10}}>Done</span>\n\n                                        <Icon name=\"undo alternate\"\n                                              color=\"yellow\"\n                                              onClick={()=>undoTask(item._id)}\n                                        />\n                                        <span style={{paddingRight:10}}>Undo</span>\n                                        <Icon name=\"delete\"\n                                              color=\"red\"\n                                              onClick={()=>deleteTask(item._id)}\n                                        />\n                                        <span style={{paddingRight:10}}>Delete</span>\n\n                                    </Card.Meta>\n                                </Card.Content>\n                            </Card>\n                        )\n                    })\n                })\n            }\n            else{\n                setState({\n                    items:[],\n                });\n            }\n\n        }))\n    }\n\n    // After performing any CRUD operation perform getTask() \n    // to update the UI\n\n    function undoTask(id){\n        axios.put(endPoint+\"/api/undoTask/\"+id,{\n            headers:{\n                \"Content-Type\":\"application/x-www-form-urlencoded\",\n            },\n        }).then((res)=>{\n            console.log(res)\n            getTask()\n        })\n    }\n\n    function updateTask(id){\n        axios.put(endPoint+\"/api/tasks/\"+id,{\n            headers:{\n                \"Content-Type\":\"application/x-www-form-urlencoded\",\n            },\n        }).then((res)=>{\n            console.log(res)\n            getTask()\n        })\n    }\n\n    function deleteTask(id){\n        axios.delete(endPoint+\"/api/deleteTask/\"+id,{\n            headers:{\n                \"Content-Type\":\"application/x-www-form-urlencoded\",\n            },\n        }).then((res)=>{\n            console.log(res)\n            getTask()\n        })\n    }\n\n    \n    return(\n        <div>\n            <div className=\"row\">\n                <Header className=\"header\" as=\"h2\" color=\"yellow\">\n                    To Do List\n                </Header>\n            </div>\n\n            <div className=\"row\">\n                <Form onSubmit={onSubmit}>\n                    <Input type=\"text\" name=\"task\"\n                           onChange={onChange} \n                           value={taskstate.task}\n                           fluid\n                           placeholder=\"Create a todo\"\n                    />\n                </Form>\n            </div>\n\n            <div className=\"row\">\n                    <Card.Group>{state.items}</Card.Group>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}